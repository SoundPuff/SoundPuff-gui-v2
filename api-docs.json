{
  "openapi": "3.1.0",
  "info": {
    "title": "SoundPuff API",
    "description": "\n## SoundPuff API - Social Music Platform\n\nA social music platform API built with FastAPI, PostgreSQL, and Supabase Auth.\n\n### Features\n- üîê **Authentication**: Secure user signup/login with Supabase Auth\n- üë§ **User Profiles**: Create and manage user profiles with bio and avatar\n- üéµ **Playlists**: Create, edit, and share music playlists\n- üë• **Social**: Follow/unfollow users, like and comment on playlists\n- üì± **Feed**: Personalized feed showing playlists from followed users\n\n### Authentication\nAll protected endpoints require a Bearer token. Get your token by:\n1. Sign up: `POST /api/v1/auth/signup`\n2. Login: `POST /api/v1/auth/login`\n3. Use the returned `access_token` by clicking the \"Authorize\" button above\n    ",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/auth/signup": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Sign up a new user",
        "description": "Create a new user account with Supabase Auth.\n\n    This endpoint will:\n    1. Create a user in Supabase Auth (handles email/password securely)\n    2. Create a user profile in the database\n    3. Return an access token for immediate use\n\n    **Note**: The username must be unique. Email validation is handled by Supabase.",
        "operationId": "signup_api_v1_auth_signup_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SignupRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "User created successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Token" },
                "example": {
                  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                  "token_type": "bearer"
                }
              }
            }
          },
          "400": {
            "description": "Username already taken or invalid email/password"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Login with email and password",
        "description": "Authenticate with Supabase Auth and get an access token.\n\n    Use the returned token to access protected endpoints by:\n    1. Click the \"Authorize\" button at the top of this page\n    2. Enter the token in the format: `Bearer <your-token>`\n    3. Or include it in your request headers: `Authorization: Bearer <your-token>`",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/LoginRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Login successful",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Token" },
                "example": {
                  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                  "token_type": "bearer"
                }
              }
            }
          },
          "401": { "description": "Invalid email or password" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/password-reset/request": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Request password reset",
        "description": "Request a password reset email from Supabase Auth.\n\n    This endpoint will:\n    1. Send a password reset email to the provided email address\n    2. The email will contain a link to reset the password\n    3. The link will redirect to your app's password reset page with a token\n\n    **Note**: For security reasons, this endpoint always returns success even if the email doesn't exist.",
        "operationId": "request_password_reset_api_v1_auth_password_reset_request_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PasswordResetRequest" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password reset email sent (or email doesn't exist)",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "message": "If the email exists, a password reset link has been sent"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/password-reset/confirm": {
      "post": {
        "tags": ["Authentication"],
        "summary": "Confirm password reset",
        "description": "Reset the password using the token from the reset email.\n\n    This endpoint should be called after the user receives the reset email.\n    Extract the token from the URL query parameter and submit it with the new password.\n\n    The reset link format is:\n    `https://your-supabase-url/auth/v1/verify?token=<token>&type=recovery&redirect_to=<your-app>`\n\n    **Steps**:\n    1. User clicks the reset link in email\n    2. Extract the `token` parameter from the URL\n    3. Call this endpoint with the token and new password\n    4. Use the returned access token for authenticated requests",
        "operationId": "confirm_password_reset_api_v1_auth_password_reset_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PasswordResetConfirm" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Password reset successful",
            "content": {
              "application/json": {
                "schema": {},
                "example": {
                  "message": "Password has been reset successfully",
                  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                  "token_type": "bearer"
                }
              }
            }
          },
          "400": { "description": "Invalid or expired reset token" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": ["Users"],
        "summary": "Read Current User",
        "operationId": "read_current_user_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/User" }
              }
            }
          }
        },
        "security": [{ "HTTPBearer": [] }]
      },
      "put": {
        "tags": ["Users"],
        "summary": "Update Current User",
        "operationId": "update_current_user_api_v1_users_me_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/UserUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/User" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        },
        "security": [{ "HTTPBearer": [] }]
      }
    },
    "/api/v1/users/{username}": {
      "get": {
        "tags": ["Users"],
        "summary": "Read User By Username",
        "operationId": "read_user_by_username_api_v1_users__username__get",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Username" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/User" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{username}/follow": {
      "post": {
        "tags": ["Users"],
        "summary": "Follow User",
        "operationId": "follow_user_api_v1_users__username__follow_post",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Username" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Users"],
        "summary": "Unfollow User",
        "operationId": "unfollow_user_api_v1_users__username__follow_delete",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Username" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{username}/followers": {
      "get": {
        "tags": ["Users"],
        "summary": "Get User Followers",
        "operationId": "get_user_followers_api_v1_users__username__followers_get",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Username" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/User" },
                  "title": "Response Get User Followers Api V1 Users  Username  Followers Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{username}/following": {
      "get": {
        "tags": ["Users"],
        "summary": "Get User Following",
        "operationId": "get_user_following_api_v1_users__username__following_get",
        "parameters": [
          {
            "name": "username",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Username" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/User" },
                  "title": "Response Get User Following Api V1 Users  Username  Following Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Read Playlists",
        "operationId": "read_playlists_api_v1_playlists__get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 0, "title": "Skip" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 20, "title": "Limit" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Playlist" },
                  "title": "Response Read Playlists Api V1 Playlists  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Playlists"],
        "summary": "Create Playlist",
        "operationId": "create_playlist_api_v1_playlists__post",
        "security": [{ "HTTPBearer": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PlaylistCreate" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Playlist" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/feed": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Read Feed",
        "operationId": "read_feed_api_v1_playlists_feed_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 0, "title": "Skip" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "default": 20, "title": "Limit" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Playlist" },
                  "title": "Response Read Feed Api V1 Playlists Feed Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/{playlist_id}": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Read Playlist",
        "operationId": "read_playlist_api_v1_playlists__playlist_id__get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Playlist" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Playlists"],
        "summary": "Update Playlist",
        "operationId": "update_playlist_api_v1_playlists__playlist_id__put",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/PlaylistUpdate" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Playlist" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Playlists"],
        "summary": "Delete Playlist",
        "operationId": "delete_playlist_api_v1_playlists__playlist_id__delete",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/{playlist_id}/like": {
      "post": {
        "tags": ["Playlists"],
        "summary": "Like Playlist",
        "operationId": "like_playlist_api_v1_playlists__playlist_id__like_post",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Like" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Playlists"],
        "summary": "Unlike Playlist",
        "operationId": "unlike_playlist_api_v1_playlists__playlist_id__like_delete",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/{playlist_id}/comments": {
      "get": {
        "tags": ["Playlists"],
        "summary": "Read Playlist Comments",
        "operationId": "read_playlist_comments_api_v1_playlists__playlist_id__comments_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/Comment" },
                  "title": "Response Read Playlist Comments Api V1 Playlists  Playlist Id  Comments Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Playlists"],
        "summary": "Create Comment",
        "operationId": "create_comment_api_v1_playlists__playlist_id__comments_post",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "playlist_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Playlist Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CommentCreate" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Comment" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/playlists/comments/{comment_id}": {
      "put": {
        "tags": ["Playlists"],
        "summary": "Update Comment",
        "operationId": "update_comment_api_v1_playlists_comments__comment_id__put",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Comment Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CommentUpdate" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/Comment" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Playlists"],
        "summary": "Delete Comment",
        "operationId": "delete_comment_api_v1_playlists_comments__comment_id__delete",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "comment_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Comment Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/songs/search": {
      "get": {
        "tags": ["Songs"],
        "summary": "Search Songs",
        "description": "Search songs by title or artist using a case-insensitive partial match.\nRequires authentication.\n\n- **query**: Search term (e.g., \"ar\" matches \"artist\", \"guitar\", etc.)\n- **limit**: Maximum results to return (default: 20, max: 100)\n- **offset**: Pagination offset",
        "operationId": "search_songs_api_v1_songs_search_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query for song title or artist",
              "title": "Query"
            },
            "description": "Search query for song title or artist"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SongSearchResults" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/songs/users/search": {
      "get": {
        "tags": ["Songs"],
        "summary": "Search Users",
        "description": "Search users by username or bio using a case-insensitive partial match.\nRequires authentication.\n\n- **query**: Search term (e.g., \"ar\" matches \"arda\", \"ariana\", etc.)\n- **limit**: Maximum results to return (default: 20, max: 100)\n- **offset**: Pagination offset",
        "operationId": "search_users_api_v1_songs_users_search_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query for username or bio",
              "title": "Query"
            },
            "description": "Search query for username or bio"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/UserSearchResults" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/songs/playlists/search": {
      "get": {
        "tags": ["Songs"],
        "summary": "Search Playlists",
        "description": "Search playlists by title or description using a case-insensitive partial match.\nRequires authentication. Returns public playlists and your own private playlists.\n\n- **query**: Search term (e.g., \"rock\" matches \"Rock Classics\", \"Hard Rock\", etc.)\n- **limit**: Maximum results to return (default: 20, max: 100)\n- **offset**: Pagination offset",
        "operationId": "search_playlists_api_v1_songs_playlists_search_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query for playlist title or description",
              "title": "Query"
            },
            "description": "Search query for playlist title or description"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "Maximum number of results",
              "default": 20,
              "title": "Limit"
            },
            "description": "Maximum number of results"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlaylistSearchResults"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/songs/all": {
      "get": {
        "tags": ["Songs"],
        "summary": "Search All",
        "description": "Search across users, songs, and playlists at once.\nRequires authentication.\n\n- **query**: Search term (e.g., \"ar\" matches \"arda\", \"artist\", \"guitar\", etc.)\n- **type**: Filter by type - \"all\" returns all types, or specify \"users\", \"songs\", \"playlists\"\n- **limit**: Maximum results per category (default: 10, max: 50)\n- **offset**: Pagination offset per category",
        "operationId": "search_all_api_v1_songs_all_get",
        "security": [{ "HTTPBearer": [] }],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "minLength": 1,
              "description": "Search query",
              "title": "Query"
            },
            "description": "Search query"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/SearchType",
              "description": "Type of search: all, users, songs, or playlists",
              "default": "all"
            },
            "description": "Type of search: all, users, songs, or playlists"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 50,
              "minimum": 1,
              "description": "Maximum results per category",
              "default": 10,
              "title": "Limit"
            },
            "description": "Maximum results per category"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of results to skip per category",
              "default": 0,
              "title": "Offset"
            },
            "description": "Number of results to skip per category"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SearchResults" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Read Root",
        "operationId": "read_root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Comment": {
        "properties": {
          "body": { "type": "string", "title": "Body" },
          "id": { "type": "integer", "title": "Id" },
          "user_id": { "type": "string", "format": "uuid", "title": "User Id" },
          "playlist_id": { "type": "integer", "title": "Playlist Id" },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "user": { "$ref": "#/components/schemas/User" }
        },
        "type": "object",
        "required": [
          "body",
          "id",
          "user_id",
          "playlist_id",
          "created_at",
          "user"
        ],
        "title": "Comment"
      },
      "CommentCreate": {
        "properties": {
          "body": { "type": "string", "title": "Body" },
          "playlist_id": { "type": "integer", "title": "Playlist Id" }
        },
        "type": "object",
        "required": ["body", "playlist_id"],
        "title": "CommentCreate"
      },
      "CommentUpdate": {
        "properties": { "body": { "type": "string", "title": "Body" } },
        "type": "object",
        "required": ["body"],
        "title": "CommentUpdate"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": { "$ref": "#/components/schemas/ValidationError" },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "Like": {
        "properties": {
          "playlist_id": { "type": "integer", "title": "Playlist Id" },
          "user_id": { "type": "string", "format": "uuid", "title": "User Id" },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": ["playlist_id", "user_id", "created_at"],
        "title": "Like"
      },
      "LoginRequest": {
        "properties": {
          "email": { "type": "string", "format": "email", "title": "Email" },
          "password": { "type": "string", "title": "Password" }
        },
        "type": "object",
        "required": ["email", "password"],
        "title": "LoginRequest",
        "description": "Request schema for Supabase Auth login",
        "example": {
          "email": "john.doe@example.com",
          "password": "SecurePassword123!"
        }
      },
      "PasswordResetConfirm": {
        "properties": {
          "token": { "type": "string", "title": "Token" },
          "password": { "type": "string", "title": "Password" }
        },
        "type": "object",
        "required": ["token", "password"],
        "title": "PasswordResetConfirm",
        "description": "Request schema for confirming password reset",
        "example": {
          "password": "NewSecurePassword123!",
          "token": "6f32a2ab2a044efc7eb84c73d1974672e5db5d42e0336b37476c1b80"
        }
      },
      "PasswordResetRequest": {
        "properties": {
          "email": { "type": "string", "format": "email", "title": "Email" }
        },
        "type": "object",
        "required": ["email"],
        "title": "PasswordResetRequest",
        "description": "Request schema for password reset",
        "example": { "email": "john.doe@example.com" }
      },
      "Playlist": {
        "properties": {
          "title": { "type": "string", "title": "Title" },
          "description": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Description"
          },
          "privacy": {
            "type": "string",
            "enum": ["public", "private"],
            "title": "Privacy"
          },
          "id": { "type": "integer", "title": "Id" },
          "user_id": { "type": "string", "format": "uuid", "title": "User Id" },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "anyOf": [
              { "type": "string", "format": "date-time" },
              { "type": "null" }
            ],
            "title": "Updated At"
          },
          "owner": { "$ref": "#/components/schemas/User" },
          "songs": {
            "items": { "$ref": "#/components/schemas/Song" },
            "type": "array",
            "title": "Songs",
            "default": []
          },
          "likes_count": {
            "type": "integer",
            "title": "Likes Count",
            "default": 0
          },
          "comments_count": {
            "type": "integer",
            "title": "Comments Count",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "title",
          "privacy",
          "id",
          "user_id",
          "created_at",
          "owner"
        ],
        "title": "Playlist"
      },
      "PlaylistCreate": {
        "properties": {
          "title": { "type": "string", "title": "Title" },
          "description": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Description"
          },
          "privacy": {
            "type": "string",
            "enum": ["public", "private"],
            "title": "Privacy",
            "default": "public"
          }
        },
        "type": "object",
        "required": ["title"],
        "title": "PlaylistCreate"
      },
      "PlaylistSearchResult": {
        "properties": {
          "playlist": { "$ref": "#/components/schemas/Playlist" },
          "relevance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": ["playlist"],
        "title": "PlaylistSearchResult",
        "description": "Playlist with optional relevance score for search ranking"
      },
      "PlaylistSearchResults": {
        "properties": {
          "query": { "type": "string", "title": "Query" },
          "playlists": {
            "items": { "$ref": "#/components/schemas/PlaylistSearchResult" },
            "type": "array",
            "title": "Playlists",
            "default": []
          },
          "total": { "type": "integer", "title": "Total", "default": 0 }
        },
        "type": "object",
        "required": ["query"],
        "title": "PlaylistSearchResults",
        "description": "Search results for playlists only"
      },
      "PlaylistUpdate": {
        "properties": {
          "title": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Title"
          },
          "description": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Description"
          },
          "privacy": {
            "anyOf": [
              { "type": "string", "enum": ["public", "private"] },
              { "type": "null" }
            ],
            "title": "Privacy"
          }
        },
        "type": "object",
        "title": "PlaylistUpdate"
      },
      "SearchResults": {
        "properties": {
          "query": { "type": "string", "title": "Query" },
          "users": {
            "items": { "$ref": "#/components/schemas/UserSearchResult" },
            "type": "array",
            "title": "Users",
            "default": []
          },
          "songs": {
            "items": { "$ref": "#/components/schemas/SongSearchResult" },
            "type": "array",
            "title": "Songs",
            "default": []
          },
          "playlists": {
            "items": { "$ref": "#/components/schemas/PlaylistSearchResult" },
            "type": "array",
            "title": "Playlists",
            "default": []
          },
          "total_users": {
            "type": "integer",
            "title": "Total Users",
            "default": 0
          },
          "total_songs": {
            "type": "integer",
            "title": "Total Songs",
            "default": 0
          },
          "total_playlists": {
            "type": "integer",
            "title": "Total Playlists",
            "default": 0
          }
        },
        "type": "object",
        "required": ["query"],
        "title": "SearchResults",
        "description": "Combined search results across all types.\n\nSearch should support partial matching:\n- Query \"ar\" should match \"arda\", \"ariana\", \"guitar\", etc.\n- Results should be ordered by relevance when possible"
      },
      "SearchType": {
        "type": "string",
        "enum": ["all", "users", "songs", "playlists"],
        "title": "SearchType",
        "description": "Type of search to perform"
      },
      "SignupRequest": {
        "properties": {
          "email": { "type": "string", "format": "email", "title": "Email" },
          "password": { "type": "string", "title": "Password" },
          "username": { "type": "string", "title": "Username" }
        },
        "type": "object",
        "required": ["email", "password", "username"],
        "title": "SignupRequest",
        "description": "Request schema for Supabase Auth signup",
        "example": {
          "email": "john.doe@example.com",
          "password": "SecurePassword123!",
          "username": "johndoe"
        }
      },
      "Song": {
        "properties": {
          "title": { "type": "string", "title": "Title" },
          "artist": { "type": "string", "title": "Artist" },
          "album_art_url": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Album Art Url"
          },
          "song_url": { "type": "string", "title": "Song Url" },
          "id": { "type": "integer", "title": "Id" },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": ["title", "artist", "song_url", "id", "created_at"],
        "title": "Song"
      },
      "SongSearchResult": {
        "properties": {
          "song": { "$ref": "#/components/schemas/Song" },
          "relevance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": ["song"],
        "title": "SongSearchResult",
        "description": "Song with optional relevance score for search ranking"
      },
      "SongSearchResults": {
        "properties": {
          "query": { "type": "string", "title": "Query" },
          "songs": {
            "items": { "$ref": "#/components/schemas/SongSearchResult" },
            "type": "array",
            "title": "Songs",
            "default": []
          },
          "total": { "type": "integer", "title": "Total", "default": 0 }
        },
        "type": "object",
        "required": ["query"],
        "title": "SongSearchResults",
        "description": "Search results for songs only"
      },
      "Token": {
        "properties": {
          "access_token": { "type": "string", "title": "Access Token" },
          "token_type": { "type": "string", "title": "Token Type" }
        },
        "type": "object",
        "required": ["access_token", "token_type"],
        "title": "Token"
      },
      "User": {
        "properties": {
          "username": { "type": "string", "title": "Username" },
          "id": { "type": "string", "format": "uuid", "title": "Id" },
          "bio": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Bio"
          },
          "avatar_url": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Avatar Url"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": ["username", "id", "created_at"],
        "title": "User"
      },
      "UserSearchResult": {
        "properties": {
          "user": { "$ref": "#/components/schemas/User" },
          "relevance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Relevance"
          }
        },
        "type": "object",
        "required": ["user"],
        "title": "UserSearchResult",
        "description": "User with optional relevance score for search ranking"
      },
      "UserSearchResults": {
        "properties": {
          "query": { "type": "string", "title": "Query" },
          "users": {
            "items": { "$ref": "#/components/schemas/UserSearchResult" },
            "type": "array",
            "title": "Users",
            "default": []
          },
          "total": { "type": "integer", "title": "Total", "default": 0 }
        },
        "type": "object",
        "required": ["query"],
        "title": "UserSearchResults",
        "description": "Search results for users only"
      },
      "UserUpdate": {
        "properties": {
          "bio": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Bio"
          },
          "avatar_url": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Avatar Url"
          }
        },
        "type": "object",
        "title": "UserUpdate"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": { "anyOf": [{ "type": "string" }, { "type": "integer" }] },
            "type": "array",
            "title": "Location"
          },
          "msg": { "type": "string", "title": "Message" },
          "type": { "type": "string", "title": "Error Type" }
        },
        "type": "object",
        "required": ["loc", "msg", "type"],
        "title": "ValidationError"
      }
    },
    "securitySchemes": { "HTTPBearer": { "type": "http", "scheme": "bearer" } }
  },
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication with Supabase Auth. Sign up and login to get an access token."
    },
    {
      "name": "Users",
      "description": "User profile management, follow/unfollow operations, and user discovery."
    },
    {
      "name": "Playlists",
      "description": "Create, manage, and discover music playlists. Like, comment, and add songs to playlists."
    },
    {
      "name": "Songs",
      "description": "Search and discover songs available in the catalog."
    }
  ]
}
